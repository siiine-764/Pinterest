{"ast":null,"code":"var _jsxFileName = \"/goinfre/mayache-/Pin/frontend/src/pages/post/Post.jsx\";\n// ImageUpload.js\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios'; // Import axios for making HTTP requests\nimport Navigation from '../../components/Navigation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  var _s = $RefreshSig$();\n  return _s(function Post() {\n    _s();\n    const [selectedFile, setSelectedFile] = useState(null);\n    const navigate = useNavigate();\n\n    // Handler for file input change\n    const handleFileChange = event => {\n      setSelectedFile(event.target.files[0]);\n    };\n\n    // Handler for form submission\n    const handleSubmit = async event => {\n      event.preventDefault();\n\n      // Create a FormData object to store the file\n      const formData = new FormData();\n      formData.append('image', selectedFile);\n      try {\n        // Make a POST request to upload the file\n        const response = await axios.post('http://localhost:3001/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log('File uploaded successfully:', response.data);\n        navigate(\"/\");\n        // Redirect to home page after successful upload\n      } catch (error) {\n        console.error('Error uploading file:', error);\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        encType: \"multipart/form-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"image\",\n          accept: \"image/*\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Upload Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this);\n  }, \"kui1D9czbfUjqeJpoDpiCu0q18k=\", false, function () {\n    return [useNavigate];\n  });\n};\n_c = Register;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","axios","Navigation","Register","Post","selectedFile","setSelectedFile","navigate","handleFileChange","event","target","files","handleSubmit","preventDefault","formData","FormData","append","response","post","headers","console","log","data","error"],"sources":["/goinfre/mayache-/Pin/frontend/src/pages/post/Post.jsx"],"sourcesContent":["// ImageUpload.js\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios'; // Import axios for making HTTP requests\nimport Navigation from '../../components/Navigation'\n\nconst Register = () =>\nfunction Post() {\n    const [selectedFile, setSelectedFile] = useState(null);\n    const navigate = useNavigate();\n\n    // Handler for file input change\n    const handleFileChange = (event) => {\n        setSelectedFile(event.target.files[0]);\n    };\n\n    // Handler for form submission\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        \n        // Create a FormData object to store the file\n        const formData = new FormData();\n        formData.append('image', selectedFile);\n\n        try {\n            // Make a POST request to upload the file\n            const response = await axios.post('http://localhost:3001/upload', formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data'\n                }\n            });\n            console.log('File uploaded successfully:', response.data);\n            navigate(\"/\");\n             // Redirect to home page after successful upload\n        } catch (error) {\n            console.error('Error uploading file:', error);\n        }\n    };\n\n    return (\n        <div>\n          <Navigation />\n            <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n                <input type=\"file\" name=\"image\" accept=\"image/*\" onChange={handleFileChange} />\n                <button type=\"submit\">Upload Image</button>\n            </form>\n        </div>\n    );\n}\n\n\n\nexport default Post;\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;AAC3B,OAAOC,UAAU,MAAM,6BAA6B;AAAA;AAEpD,MAAMC,QAAQ,GAAG;EAAA;EAAA,UACjB,SAASC,IAAI,GAAG;IAAA;IACZ,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;IACtD,MAAMQ,QAAQ,GAAGP,WAAW,EAAE;;IAE9B;IACA,MAAMQ,gBAAgB,GAAIC,KAAK,IAAK;MAChCH,eAAe,CAACG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC;;IAED;IACA,MAAMC,YAAY,GAAG,MAAOH,KAAK,IAAK;MAClCA,KAAK,CAACI,cAAc,EAAE;;MAEtB;MACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEX,YAAY,CAAC;MAEtC,IAAI;QACA;QACA,MAAMY,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAC,8BAA8B,EAAEJ,QAAQ,EAAE;UACxEK,OAAO,EAAE;YACL,cAAc,EAAE;UACpB;QACJ,CAAC,CAAC;QACFC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEJ,QAAQ,CAACK,IAAI,CAAC;QACzDf,QAAQ,CAAC,GAAG,CAAC;QACZ;MACL,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACZH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD;IACJ,CAAC;IAED,oBACI;MAAA,wBACE,QAAC,UAAU;QAAA;QAAA;QAAA;MAAA,QAAG,eACZ;QAAM,QAAQ,EAAEX,YAAa;QAAC,OAAO,EAAC,qBAAqB;QAAA,wBACvD;UAAO,IAAI,EAAC,MAAM;UAAC,IAAI,EAAC,OAAO;UAAC,MAAM,EAAC,SAAS;UAAC,QAAQ,EAAEJ;QAAiB;UAAA;UAAA;UAAA;QAAA,QAAG,eAC/E;UAAQ,IAAI,EAAC,QAAQ;UAAA,UAAC;QAAY;UAAA;UAAA;UAAA;QAAA,QAAS;MAAA;QAAA;QAAA;QAAA;MAAA,QACxC;IAAA;MAAA;MAAA;MAAA;IAAA,QACL;EAEd,CAAC;IAAA,QAvCoBR,WAAW;EAAA;AAAA,CAuC/B;AAAA,KA1CKG,QAAQ;AA8Cd,eAAeC,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}